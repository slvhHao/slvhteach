# Render.com å¾Œç«¯éƒ¨ç½²æª¢æŸ¥æ¸…å–®

## âœ… éƒ¨ç½²å‰æº–å‚™

- [ ] å·²å»ºç«‹ GitHub å¸³è™Ÿ
- [ ] å·²å°‡ç¨‹å¼ç¢¼ä¸Šå‚³åˆ° GitHub
- [ ] ç¢ºèª `package.json` åŒ…å«æ‰€æœ‰å¿…è¦çš„ä¾è³´å¥—ä»¶
- [ ] ç¢ºèª `.gitignore` æ­£ç¢ºè¨­å®šï¼ˆä¸åŒ…å« node_modulesã€.envï¼‰
- [ ] ç¢ºèª MongoDB Atlas è³‡æ–™åº«å¯æ­£å¸¸é€£ç·š

## âœ… Render.com è¨­å®š

### åŸºæœ¬è¨­å®š
- [ ] å·²è¨»å†Š Render.com å¸³è™Ÿ
- [ ] å·²é€£æ¥ GitHub Repository
- [ ] **Root Directory**: `backend`
- [ ] **Environment**: Node
- [ ] **Build Command**: `npm install`
- [ ] **Start Command**: `npm start`
- [ ] **Instance Type**: Free

### ç’°å¢ƒè®Šæ•¸ï¼ˆå¿…é ˆè¨­å®šï¼‰

| è®Šæ•¸åç¨± | å€¼ | èªªæ˜ |
|---------|-----|------|
| `MONGODB_URI` | `mongodb+srv://slvhteach:Ware%40turn8888@cluster0.3r5skjs.mongodb.net/jiaojiao?retryWrites=true&w=majority&appName=Cluster0` | MongoDB é€£ç·šå­—ä¸² |
| `PORT` | `3000` | ä¼ºæœå™¨åŸ è™Ÿ |
| `FRONTEND_URL` | å…ˆè¨­å®šç‚º `*`ï¼Œä¹‹å¾Œæ”¹ç‚ºå¯¦éš›å‰ç«¯ç¶²å€ | CORS å…è¨±çš„ä¾†æº |
| `NODE_ENV` | `production` | åŸ·è¡Œç’°å¢ƒ |

**é‡è¦**ï¼šå¯†ç¢¼ä¸­çš„ `@` ç¬¦è™Ÿå¿…é ˆç·¨ç¢¼ç‚º `%40`

## âœ… éƒ¨ç½²å¾Œé©—è­‰

### 1. æª¢æŸ¥æœå‹™ç‹€æ…‹
- [ ] Render.com æ§åˆ¶å°é¡¯ç¤ºã€ŒLiveã€
- [ ] æ²’æœ‰éŒ¯èª¤è¨Šæ¯åœ¨æ—¥èªŒä¸­

### 2. æ¸¬è©¦ API ç«¯é»

é–‹å•Ÿç€è¦½å™¨æ¸¬è©¦ä»¥ä¸‹ç¶²å€ï¼ˆæ›¿æ›ç‚ºæ‚¨çš„å¯¦éš›ç¶²å€ï¼‰ï¼š

#### æ¸¬è©¦ä¸»ç«¯é»
```
https://jiaojiao-backend.onrender.com
```
**é æœŸå›æ‡‰**ï¼š
```json
{
  "message": "å®¶æ•™å·¥å…·åº« API",
  "version": "1.0.0",
  "endpoints": {
    "materials": "/api/materials",
    "options": "/api/options"
  }
}
```

#### æ¸¬è©¦ Materials ç«¯é»
```
https://jiaojiao-backend.onrender.com/api/materials
```
**é æœŸå›æ‡‰**ï¼š
```json
[]
```
ï¼ˆç©ºé™£åˆ—ï¼Œå› ç‚ºé‚„æ²’æœ‰è³‡æ–™ï¼‰

#### æ¸¬è©¦ Options ç«¯é»
```
https://jiaojiao-backend.onrender.com/api/options
```
**é æœŸå›æ‡‰**ï¼š
```json
{
  "_id": "...",
  "userId": "default",
  "developmentStages": [...],
  "teachingTypes": [...],
  ...
}
```

### 3. ä½¿ç”¨ curl æ¸¬è©¦ POST è«‹æ±‚ï¼ˆå¯é¸ï¼‰

```bash
curl -X POST https://jiaojiao-backend.onrender.com/api/materials \
  -H "Content-Type: application/json" \
  -d '{
    "name": "æ¸¬è©¦æ•™å…·",
    "developmentStage": "å­¸é½¡å‰å…’ç«¥ï¼ˆ3-6æ­²ï¼‰",
    "teachingType": "å€‹äººæ•™å…·",
    "material": "æœ¨è£½",
    "area": "æ—¥å¸¸ç”Ÿæ´»å€",
    "purposes": ["åŸ¹é¤Šç¨ç«‹æ€§"],
    "description": "é€™æ˜¯ä¸€å€‹æ¸¬è©¦æ•™å…·"
  }'
```

**é æœŸå›æ‡‰**ï¼šæ‡‰è©²å›å‚³æ–°å»ºç«‹çš„æ•™æç‰©ä»¶

## âœ… MongoDB Atlas è¨­å®šæª¢æŸ¥

- [ ] è³‡æ–™åº«ä½¿ç”¨è€…å·²å»ºç«‹ï¼ˆslvhteachï¼‰
- [ ] Network Access è¨­å®šç‚ºå…è¨±æ‰€æœ‰ IPï¼ˆ0.0.0.0/0ï¼‰
- [ ] è³‡æ–™åº«åç¨±ç‚º `jiaojiao`
- [ ] å¯ä»¥åœ¨ MongoDB Atlas çœ‹åˆ° `materials` å’Œ `options` é›†åˆ

## ğŸ› å¸¸è¦‹å•é¡Œæ’è§£

### å•é¡Œï¼šç„¡æ³•é€£ç·šåˆ° MongoDB

**æª¢æŸ¥**ï¼š
1. MongoDB Atlas â†’ Network Access â†’ ç¢ºèª IP ç™½åå–®åŒ…å« `0.0.0.0/0`
2. ç¢ºèª MONGODB_URI ç’°å¢ƒè®Šæ•¸æ­£ç¢º
3. ç¢ºèªå¯†ç¢¼ç‰¹æ®Šå­—ç¬¦å·²ç·¨ç¢¼ï¼ˆ@ â†’ %40ï¼‰

**è§£æ±ºæ–¹æ³•**ï¼š
```bash
# åœ¨ Render.com æ§åˆ¶å°çš„ Logs ä¸­æŸ¥çœ‹è©³ç´°éŒ¯èª¤è¨Šæ¯
```

### å•é¡Œï¼šæœå‹™å•Ÿå‹•å¤±æ•—

**æª¢æŸ¥**ï¼š
1. Render.com â†’ Logs â†’ æŸ¥çœ‹éŒ¯èª¤è¨Šæ¯
2. ç¢ºèª `package.json` ä¸­çš„ dependencies å®Œæ•´
3. ç¢ºèª `npm start` æŒ‡ä»¤æ­£ç¢º

**è§£æ±ºæ–¹æ³•**ï¼š
```bash
# åœ¨ Render.com æ‰‹å‹•è§¸ç™¼é‡æ–°éƒ¨ç½²
# Dashboard â†’ Manual Deploy â†’ Deploy latest commit
```

### å•é¡Œï¼šCORS éŒ¯èª¤

**æª¢æŸ¥**ï¼š
1. ç¢ºèª FRONTEND_URL ç’°å¢ƒè®Šæ•¸å·²è¨­å®š
2. ç¢ºèªå‰ç«¯ç¶²å€èˆ‡ FRONTEND_URL ä¸€è‡´

**è§£æ±ºæ–¹æ³•**ï¼š
```bash
# æš«æ™‚è¨­å®š FRONTEND_URL=* æ¸¬è©¦
# ç¢ºèªå•é¡Œè§£æ±ºå¾Œï¼Œæ”¹ç‚ºå¯¦éš›çš„å‰ç«¯ç¶²å€
```

### å•é¡Œï¼šæœå‹™ä¼‘çœ ï¼ˆå›æ‡‰æ…¢ï¼‰

**èªªæ˜**ï¼š
- Render.com å…è²»æ–¹æ¡ˆæœƒåœ¨ 15 åˆ†é˜ç„¡æ´»å‹•å¾Œè®“æœå‹™ä¼‘çœ 
- ä¸‹æ¬¡è«‹æ±‚æ™‚éœ€è¦ 30-60 ç§’å–šé†’

**è§£æ±ºæ–¹æ³•**ï¼š
- è€å¿ƒç­‰å¾…ç¬¬ä¸€æ¬¡è«‹æ±‚å®Œæˆ
- æˆ–å‡ç´šåˆ°ä»˜è²»æ–¹æ¡ˆï¼ˆ$7/æœˆèµ·ï¼‰

## ğŸ“ éƒ¨ç½²å¾Œéœ€è¦åšçš„äº‹

1. **è¨˜éŒ„ API ç¶²å€**ï¼š
   ```
   https://your-app-name.onrender.com
   ```

2. **æ›´æ–°å‰ç«¯è¨­å®š**ï¼š
   - ä¿®æ”¹ `api-config.js` ä¸­çš„ API ç¶²å€
   - æäº¤è®Šæ›´åˆ° GitHub

3. **æ›´æ–° CORS è¨­å®š**ï¼š
   - å°‡ `FRONTEND_URL` å¾ `*` æ”¹ç‚ºå¯¦éš›çš„å‰ç«¯ç¶²å€
   - å„²å­˜å¾Œæœå‹™æœƒè‡ªå‹•é‡æ–°éƒ¨ç½²

4. **æ¸¬è©¦å®Œæ•´æµç¨‹**ï¼š
   - ç¢ºèªå‰ç«¯å¯ä»¥æ­£å¸¸å‘¼å«å¾Œç«¯ API
   - æ¸¬è©¦æ–°å¢ã€æŸ¥è©¢ã€åˆªé™¤åŠŸèƒ½
   - ç¢ºèªè³‡æ–™æœ‰å„²å­˜åˆ° MongoDB

## ğŸ¯ å®Œæˆï¼

ç•¶æ‰€æœ‰é …ç›®éƒ½æ‰“å‹¾å¾Œï¼Œæ‚¨çš„å¾Œç«¯å°±æˆåŠŸéƒ¨ç½²äº†ï¼

ä¸‹ä¸€æ­¥ï¼šéƒ¨ç½²å‰ç«¯åˆ° Netlify
